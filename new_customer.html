<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Customer</title>
    <link rel="stylesheet" href="css/new_customer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <div class="container">
        <div class="header">
            Customers information
        </div>

        <div class="section-title">1. Customer Details</div>
        <div class="form-group">
            <label for="full_name">Full Name:</label>
            <input type="text" id="full_name" name="full_name" placeholder="Enter Full Name" autocomplete="off">
        </div>
        <div class="form-group">
            <label for="billing_address">Billing Address:</label>
            <input type="text" id="billing_address" name="billing_address" placeholder="Enter Billing Address">
        </div>
        <div class="form-group">
            <label for="city">City:</label>
            <input type="text" id="city" name="city" placeholder="Enter City">
        </div>
        <div class="form-group">
            <label for="state">State:</label>
            <input type="text" id="state" name="state" placeholder="Enter State">
        </div>
        <div class="form-group">
            <label for="pin_code">PIN Code:</label>
            <input type="text" id="pin_code" name="pin_code" placeholder="Enter PIN Code">
        </div>
        <div class="form-group">
            <label for="country">Country:</label>
            <input type="text" id="country" name="country" value="India" readonly>
        </div>
        <div class="form-group">
            <label for="email_id">Email ID:</label>
            <input type="email" id="email_id" name="email_id" placeholder="Enter Email ID">
        </div>
        <div class="form-group">
            <label for="whatsapp_no">WhatsApp No:</label>
            <input type="text" id="whatsapp_no" name="whatsapp_no" placeholder="Enter WhatsApp No">
        </div>
        <div class="form-group">
            <label for="contact_no">Contact No:</label>
            <input type="text" id="contact_no" name="contact_no" placeholder="Enter Contact No">
        </div>

        <div class="section-title">2. Tax Details</div>
        <div class="form-group">
            <label for="pan_no">PAN No.:</label>
            <input type="text" id="pan_no" name="pan_no" placeholder="Enter PAN No.">
        </div>
        <div class="form-group">
            <label for="gstin">GSTIN:</label>
            <input type="text" id="gstin" name="gstin" placeholder="Enter GSTIN">
        </div>
        <div class="form-group">
            <label>GST Type:</label>
            <div class="gst-type-group">
                <label><input type="radio" name="gst_type" value="Registered"> Registered</label>
                <label><input type="radio" name="gst_type" value="Unregistered"> Unregistered</label>
                <label><input type="radio" name="gst_type" value="Composite"> Composite</label>
            </div>
        </div>
        <div class="form-group">
            <label for="composite_trade_name">Composite Trade Name:</label>
            <input type="text" id="composite_trade_name" name="composite_trade_name" placeholder="Enter Composite Trade Name">
        </div>

        <div class="button-container">
            <button type="button" class="save-button" onclick="saveCustomerData()"><i class="fas fa-save"></i> Save</button>
        </div>
    </div>

    <script>
        function saveCustomerData() {
            const fullName = document.getElementById('full_name').value;
            const billingAddress = document.getElementById('billing_address').value;
            const city = document.getElementById('city').value;
            const state = document.getElementById('state').value;
            const pinCode = document.getElementById('pin_code').value;
            const country = document.getElementById('country').value;
            const emailId = document.getElementById('email_id').value;
            const whatsappNo = document.getElementById('whatsapp_no').value;
            const contactNo = document.getElementById('contact_no').value;
            const panNo = document.getElementById('pan_no').value;
            const gstin = document.getElementById('gstin').value;
            const gstType = document.querySelector('input[name="gst_type"]:checked')?.value || '';
            const compositeTradeName = document.getElementById('composite_trade_name').value;

            const customerData = {
                customerId: Date.now(), // Unique ID for the customer
                fullName: fullName,
                billingAddress: billingAddress,
                city: city,
                state: state,
                pinCode: pinCode,
                country: country,
                emailId: emailId,
                whatsappNo: whatsappNo,
                contactNo: contactNo,
                panNo: panNo,
                gstin: gstin,
                gstType: gstType,
                compositeTradeName: compositeTradeName
            };

            let customers = localStorage.getItem('customers');
            customers = customers ? JSON.parse(customers) : [];
            customers.push(customerData);
            localStorage.setItem('customers', JSON.stringify(customers));

            alert('Customer saved!');
            window.location.href = 'customer_management.html'; // Redirect back to customer list page
        }
    </script>
</body>
</html>