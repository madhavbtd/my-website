<div id="editSupplierModal" class="modal">
        <div class="modal-content large-modal"> <div class="modal-header">
                <h2><i class="fas fa-edit info-icon"></i> Edit Supplier Details</h2>
                <span class="close-btn" id="closeEditSupplierModal" title="Close">&times;</span>
            </div>
            <form id="editSupplierForm">
                <div class="modal-body">
                    <div id="editSupplierError" class="message-area error-message d-none"></div>

                    <input type="hidden" id="editSupplierId"> <label for="editSupplierName">Full Name *</label>
                    <input type="text" id="editSupplierName" required>

                    <label for="editWhatsappNo">WhatsApp No *</label>
                    <input type="tel" id="editWhatsappNo" required pattern="[0-9]{10,15}"> <label for="editContactNo">Contact No (Optional)</label>
                    <input type="tel" id="editContactNo" pattern="[0-9]{10,15}">

                    <label for="editEmail">Email (Optional)</label>
                    <input type="email" id="editEmail">

                    <label for="editCity">City (Optional)</label>
                    <input type="text" id="editCity">

                    <label for="editState">State (Optional)</label>
                    <input type="text" id="editState">

                    <label for="editAddress">Address (Optional)</label>
                    <textarea id="editAddress"></textarea>

                    <label for="editGstin">GSTIN (Optional)</label>
                    <input type="text" id="editGstin" pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$"> <label for="editRemarks">Remarks / Notes (Optional)</label>
                    <textarea id="editRemarks"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancelEditSupplierBtn" class="button cancel-button">Cancel</button>
                    <button type="submit" class="button primary-button"><i class="fas fa-save"></i> Update Supplier</button>
                </div>
            </form>
        </div>
    </div>

    <div id="addAdjustmentModal" class="modal">
        <div class="modal-content"> <div class="modal-header">
                <h2><i class="fas fa-calculator warning-icon"></i> Add Account Adjustment</h2>
                <span class="close-btn" id="closeAddAdjustmentModal" title="Close">&times;</span>
            </div>
            <form id="addAdjustmentForm">
                <div class="modal-body">
                     <div id="addAdjustmentError" class="message-area error-message d-none"></div>

                    <p>Adjusting account for: <strong id="adjustmentSupplierName"></strong></p>

                    <label>Type *</label>
                    <div class="radio-group">
                        <input type="radio" id="adjustmentTypeDebit" name="adjustmentType" value="Debit" required checked>
                        <label for="adjustmentTypeDebit">Debit (-)</label>
                        <input type="radio" id="adjustmentTypeCredit" name="adjustmentType" value="Credit">
                        <label for="adjustmentTypeCredit">Credit (+)</label>
                    </div>
                    <small class="text-muted d-block mb-3">Debit increases amount due from supplier, Credit decreases amount due.</small>


                    <label for="adjustmentAmount">Amount *</label>
                    <input type="number" id="adjustmentAmount" required min="0.01" step="0.01">

                    <label for="adjustmentDate">Adjustment Date *</label>
                    <input type="date" id="adjustmentDate" required>

                    <label for="adjustmentReason">Reason for Adjustment (Optional)</label>
                    <textarea id="adjustmentReason" placeholder="E.g., Goods returned, Discount applied, Opening balance adjustment..."></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancelAddAdjustmentBtn" class="button cancel-button">Cancel</button>
                    <button type="submit" class="button primary-button"><i class="fas fa-save"></i> Save Adjustment</button>
                </div>
            </form>
        </div>
    </div>

    <div id="confirmDeleteSupplierModal" class="modal">
        <div class="modal-content small-modal"> <div class="modal-header">
                 <h2><i class="fas fa-exclamation-triangle danger-icon"></i> Confirm Delete Supplier</h2>
                 <span class="close-btn" id="closeConfirmDeleteSupplierModal" title="Close">&times;</span>
            </div>
            <div class="modal-body">
                <p>Are you absolutely sure you want to permanently delete the supplier: <strong id="deleteSupplierName" class="font-weight-bold"></strong>?</p>
                <p class="danger-message"> <i class="fas fa-info-circle"></i> This action cannot be undone. Associated POs and payments will NOT be deleted automatically.
                </p>
                <div class="confirmation-check">
                    <input type="checkbox" id="confirmDeleteSupplierCheckbox" style="width: auto; margin-top: 4px;"> <label for="confirmDeleteSupplierCheckbox">I understand the consequences and want to permanently delete this supplier.</label>
                </div>
                 <div id="deleteSupplierError" class="message-area error-message d-none mt-3"></div>
            </div>
            <div class="modal-actions">
                <button type="button" id="cancelSupplierDeleteBtn" class="button cancel-button">Cancel</button>
                <button type="button" id="confirmSupplierDeleteBtn" class="button danger-button" disabled><i class="fas fa-trash-alt"></i> Delete Permanently</button>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/firebase-init.js" type="module"></script>
    <script src="js/supplier_account_detail.js" type="module" defer></script>

</body>
</html>